<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdn.jsdelivr.net/npm/vue@2"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="resources/base.css">
</head>
<body>
    
    <div>
        <div id="app">
            
            <mynav pagename="pagetwo"></mynav>

            <div class="p-2">

                <h1>Watchers 2 control de emojis 🪱</h1>

                <p>Se supone se tiene que convertir el texto en emojis de forma dinamica mientras escribe</p>

                <p>valores soportados: :3 = 🐱 , :) = 😀 , :( = 😔 </p>

                <textarea class="w-100" name="txtbox" id="txtbox" cols="30" rows="10" v-model="texto" style="font-size: xx-large;"></textarea>

            </div>

        </div>
    </div>
    
    <script src="../navbar.js"></script>
    <script>

        new Vue({
            el:"#app",
            data:{
                texto : '',
                lastTwo : '',
                emojis : ["🐱" , "😀" , "😔" ]
            },
            mounted: function() {
                
            },
            methods:{
                
            },
            watch : {
                texto( nuevo , viejo )
                {
                    
                    this.lastTwo = this.texto.slice(-2);
                    if (this.lastTwo === ':3') {
                        this.texto = this.texto.slice(0 , -2) + this.emojis[0];          
                    }else if (this.lastTwo === ':)') {
                        this.texto = this.texto.slice(0 , -2) + this.emojis[1];
                    }else if (this.lastTwo === ':(') {
                        this.texto = this.texto.slice(0 , -2) + this.emojis[2];
                    }

                }
            }
        });


    </script>


</body>
</html>